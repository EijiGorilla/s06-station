/*! For license information please see 46752.fec5c37b.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunks06_station=self.webpackChunks06_station||[]).push([[26204,46752,51345],{26204:(e,t,i)=>{i.r(t),i.d(t,{Tab:()=>b});var a,l,n,o=i(57528),s=i(30697),r=i(28531),c=i(98074),h=i(50965),d=i(90596),p=i(94161);const u="container",C="content",v=(0,p.AH)(a||(a=(0,o.A)([":host{display:none}:host,.container,.content{block-size:100%;inline-size:100%}:host([selected]),:host([selected]) .container{display:flex;flex-direction:column}.content{box-sizing:border-box;padding-block:var(--calcite-tab-content-space-y, var(--calcite-tab-content-block-padding, var(--calcite-internal-tab-content-space-y)))}.scale-s{--calcite-internal-tab-content-space-y: .25rem;font-size:var(--calcite-font-size-sm);line-height:1rem}.scale-m{--calcite-internal-tab-content-space-y: .5rem;font-size:var(--calcite-font-size);line-height:1rem}.scale-l{--calcite-internal-tab-content-space-y: .625rem;font-size:var(--calcite-font-size-md);line-height:1.25rem}.container{display:none;block-size:100%;inline-size:100%;overflow:auto;outline-color:transparent}.container:focus{outline:2px solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline-offset:calc(-2px*(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}:host([hidden]){display:none}[hidden]{display:none}"])));class b extends c.WF{constructor(){super(),this.guid="calcite-tab-title-".concat((0,d.g)()),this.scale="m",this.selected=!1,this.listenOn(document.body,"calciteInternalTabChange",this.internalTabChangeHandler)}async getTabIndex(){return Array.prototype.indexOf.call((0,h.n)(this.el.parentElement.children).filter(e=>e.matches("calcite-tab")),this.el)}_updateAriaInfo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.labeledBy=t[e.indexOf(this.el.id)]||null}connectedCallback(){super.connectedCallback(),this.parentTabsEl=this.el.closest("calcite-tabs")}disconnectedCallback(){var e;super.disconnectedCallback(),null===(e=document.body)||void 0===e||e.dispatchEvent(new CustomEvent("calciteTabUnregister",{detail:this.el}))}internalTabChangeHandler(e){e.composedPath().find(e=>"CALCITE-TABS"===e.tagName)===this.parentTabsEl&&(this.tab?this.selected=this.tab===e.detail.tab:this.getTabIndex().then(t=>{this.selected=t===e.detail.tab}),e.stopPropagation())}render(){const e=this.el.id||this.guid;return(0,c.Bq)(this.el,"aria-labelledby",this.labeledBy),(0,c.Bq)(this.el,"id",e),(0,r.qy)(n||(n=(0,o.A)(["<div class="," role=tabpanel .tabIndex=","><section class=","><slot></slot></section></div>"])),(0,c.CP)({[u]:!0,["scale-".concat(this.scale)]:!0}),this.selected?0:-1,(0,c.CP)(C))}}(l=b).properties={labeledBy:[16,{},{state:!0}],scale:1,selected:[7,{},{reflect:!0,type:Boolean}],tab:[3,{},{reflect:!0}]},l.styles=v,(0,s.c)("calcite-tab",b)},35120:(e,t,i)=>{i.d(t,{u:()=>s});var a=i(28531),l=i(30533),n=i(70885);const o=(e,t,i)=>{const a=new Map;for(let l=t;l<=i;l++)a.set(e[l],l);return a},s=(0,l.u$)(class extends l.WL{constructor(e){if(super(e),e.type!==l.OA.CHILD)throw Error("repeat() can only be used in text expressions")}dt(e,t,i){let a;void 0===i?i=t:void 0!==t&&(a=t);const l=[],n=[];let o=0;for(const s of e)l[o]=a?a(s,o):o,n[o]=i(s,o),o++;return{values:n,keys:l}}render(e,t,i){return this.dt(e,t,i).values}update(e,t){var i;let[l,s,r]=t;const c=(0,n.cN)(e),{values:h,keys:d}=this.dt(l,s,r);if(!Array.isArray(c))return this.ut=d,h;const p=null!==(i=this.ut)&&void 0!==i?i:this.ut=[],u=[];let C,v,b=0,m=c.length-1,g=0,f=h.length-1;for(;b<=m&&g<=f;)if(null===c[b])b++;else if(null===c[m])m--;else if(p[b]===d[g])u[g]=(0,n.lx)(c[b],h[g]),b++,g++;else if(p[m]===d[f])u[f]=(0,n.lx)(c[m],h[f]),m--,f--;else if(p[b]===d[f])u[f]=(0,n.lx)(c[b],h[f]),(0,n.Dx)(e,u[f+1],c[b]),b++,f--;else if(p[m]===d[g])u[g]=(0,n.lx)(c[m],h[g]),(0,n.Dx)(e,c[b],c[m]),m--,g++;else if(void 0===C&&(C=o(d,g,f),v=o(p,b,m)),C.has(p[b]))if(C.has(p[m])){const t=v.get(d[g]),i=void 0!==t?c[t]:null;if(null===i){const t=(0,n.Dx)(e,c[b]);(0,n.lx)(t,h[g]),u[g]=t}else u[g]=(0,n.lx)(i,h[g]),(0,n.Dx)(e,c[b],i),c[t]=null;g++}else(0,n.KO)(c[m]),m--;else(0,n.KO)(c[b]),b++;for(;g<=f;){const t=(0,n.Dx)(e,u[f+1]);(0,n.lx)(t,h[g]),u[g++]=t}for(;b<=m;){const e=c[b++];null!==e&&(0,n.KO)(e)}return this.ut=d,(0,n.mY)(e,u),a.c0}})},46752:(e,t,i)=>{i.r(t),i.d(t,{ColorPicker:()=>j});i(73596),i(79709),i(41763);var a,l,n,o,s=i(57528),r=i(30697),c=i(80526),h=i(49469),d=i(81085),p=i(27698),u=i(98074),C=i(78598),v=i(50965),b=i(98246),m=i(94161);const g="container",f="hex-input",y="opacity-input",x=(0,m.AH)(a||(a=(0,s.A)([":host{display:block}.container{display:flex;inline-size:100%;flex-wrap:nowrap;align-items:center}.hex-input{flex-grow:1;text-transform:uppercase}.opacity-input{inline-size:100px;margin-inline-start:-1px}:host([hidden]){display:none}[hidden]{display:none}"]))),S=(0,d.A)();class w extends u.WF{constructor(){super(...arguments),this.internalColor=S,this.alphaChannel=!1,this.allowEmpty=!1,this.hexLabel="Hex",this.scale="m",this.value=(0,C.n)((0,C.h)(S,this.alphaChannel),this.alphaChannel,!0),this.calciteColorPickerHexInputChange=(0,u.lh)({cancelable:!1})}async setFocus(){return await(0,b.c)(this),(0,v.b)(this.hexInputNode)}connectedCallback(){super.connectedCallback(),this.previousNonNullValue=this.value;const{allowEmpty:e,alphaChannel:t,value:i}=this;if(i){const e=(0,C.n)(i,t);(0,C.i)(e,t)&&this.internalSetValue(e,e,!1)}else e&&this.internalSetValue(void 0,void 0,!1)}willUpdate(e){e.has("value")&&(this.hasUpdated||this.value!==(0,C.n)((0,C.h)(S,this.alphaChannel),this.alphaChannel,!0))&&this.internalSetValue(this.value,e.get("value"),!1)}onHexInputBlur(){const e=this.hexInputNode,t=e.value,i="#".concat(t),{allowEmpty:a,internalColor:l}=this,n=a&&!t,o=(0,C.a)(i);((0,C.b)(i,!0)||(0,C.b)(i,!1))&&this.onHexInputChange(),n||(0,C.i)(i)&&o||(e.value=a&&!l?"":this.formatHexForInternalInput((0,C.r)(l.object())))}onOpacityInputBlur(){const e=this.opacityInputNode,t=e.value,{allowEmpty:i,internalColor:a}=this;i&&!t||(e.value=i&&!a?"":this.formatOpacityForInternalInput(a))}onOpacityInputInput(){this.onOpacityInputChange()}onHexInputChange(){let e=this.hexInputNode.value;if(e){const t=(0,C.n)(e,!1);if((0,C.i)(t)&&this.alphaChannel&&this.internalColor){const i=(0,C.n)(this.internalColor.hexa(),!0).slice(-2);e="".concat(t+i)}}this.internalSetValue(e,this.value)}onOpacityInputChange(){const e=this.opacityInputNode;let t;if(e.value){var i;const a=(0,C.o)(Number(e.value));t=null===(i=this.internalColor)||void 0===i?void 0:i.alpha(a).hexa()}else t=e.value;this.internalSetValue(t,this.value)}onInputFocus(e){"calciteInternalInputTextFocus"===e.type?this.hexInputNode.selectText():this.opacityInputNode.selectText()}onHexInputInput(){const e="#".concat(this.hexInputNode.value),t=this.value;(0,C.i)(e,this.alphaChannel)&&(0,C.a)(e,this.alphaChannel)&&this.internalSetValue(e,t)}onInputKeyDown(e){const{altKey:t,ctrlKey:i,metaKey:a,shiftKey:l}=e,{alphaChannel:n,hexInputNode:o,internalColor:s,value:r}=this,{key:c}=e,h=e.composedPath();if("Tab"===c&&(0,C.b)(r,this.alphaChannel)||"Enter"===c)return h.includes(o)?this.onHexInputChange():this.onOpacityInputChange(),void("Enter"===c&&e.preventDefault());const d="ArrowDown"===c||"ArrowUp"===c,p=this.value;if(d){if(!r)return this.internalSetValue(this.previousNonNullValue,p),void e.preventDefault();const t="ArrowUp"===c?1:-1,i=l?10:1;return this.internalSetValue((0,C.h)(this.nudgeRGBChannels(s,i*t,h.includes(o)?"rgb":"a"),n),p),void e.preventDefault()}const u=t||i||a,v=1===c.length,b=C.d.test(c);!v||u||b||e.preventDefault()}onHexInputPaste(e){const t=e.clipboardData.getData("text");(0,C.i)(t,this.alphaChannel)&&(0,C.a)(t,this.alphaChannel)&&(e.preventDefault(),this.hexInputNode.value=t.slice(1),this.internalSetValue(t,this.value))}internalSetValue(e,t){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(e){const{alphaChannel:t}=this,a=(0,C.n)(e,t,t);if((0,C.i)(a,t)){const{internalColor:e}=this,l=(0,d.A)(a),n=(0,C.n)((0,C.h)(l,t),t),o=!e||n!==(0,C.n)((0,C.h)(e,t),t);return this.internalColor=l,this.previousNonNullValue=n,this.value=n,void(o&&i&&this.calciteColorPickerHexInputChange.emit())}}else if(this.allowEmpty)return this.internalColor=void 0,this.value=void 0,void(i&&this.calciteColorPickerHexInputChange.emit());this.value=t}storeHexInputRef(e){this.hexInputNode=e}storeOpacityInputRef(e){this.opacityInputNode=e}formatHexForInternalInput(e){return e?e.replace("#","").slice(0,6):""}formatOpacityForInternalInput(e){return e?"".concat((0,C.c)(e.alpha())):""}nudgeRGBChannels(e,t,i){let a;const l=e.array(),n=l.slice(0,3);if("rgb"===i){a=[...n.map(e=>e+t),this.alphaChannel?l[3]:void 0]}else{const i=(0,C.o)((0,C.c)(e.alpha())+t);a=[...n,i]}return(0,d.A)(a)}render(){const{alphaChannel:e,hexLabel:t,internalColor:i,messages:a,scale:l,value:r}=this,d=this.formatHexForInternalInput(r),v=this.formatOpacityForInternalInput(i),b="l"===l?"m":"s";return(0,p.qy)(n||(n=(0,s.A)(["<div class=","><calcite-input-text class="," .label="," .maxLength="," @keydown="," @paste="," @calciteInputTextChange="," @calciteInputTextInput="," @calciteInternalInputTextBlur="," @calciteInternalInputTextFocus="," prefix-text=# .scale="," .value="," ","></calcite-input-text>","</div>"])),(0,u.CP)(g),(0,u.CP)(f),(null===a||void 0===a?void 0:a.hex)||t,this.alphaChannel?8:6,this.onInputKeyDown,this.onHexInputPaste,this.onHexInputChange,this.onHexInputInput,this.onHexInputBlur,this.onInputFocus,b,d,(0,c.K)(this.storeHexInputRef),e?(0,h.D)("opacity-input",(0,p.qy)(o||(o=(0,s.A)(["<calcite-input-number class="," .label="," .max="," max-length=3 .min="," number-button-type=none .numberingSystem="," @keydown="," @calciteInputNumberInput="," @calciteInternalInputNumberBlur="," @calciteInternalInputNumberFocus="," .scale="," suffix-text=% .value="," ","></calcite-input-number>"])),(0,u.CP)(y),null===a||void 0===a?void 0:a.opacity,C.O.max,C.O.min,this.numberingSystem,this.onInputKeyDown,this.onOpacityInputInput,this.onOpacityInputBlur,this.onInputFocus,b,v,(0,c.K)(this.storeOpacityInputRef))):null)}}(l=w).properties={internalColor:[16,{},{state:!0}],alphaChannel:[5,{},{type:Boolean}],allowEmpty:[5,{},{type:Boolean}],hexLabel:1,messages:[0,{},{attribute:!1}],numberingSystem:1,scale:[3,{},{reflect:!0}],value:[3,{},{reflect:!0}]},l.styles=x,(0,r.c)("calcite-color-picker-hex-input",w);i(51345),i(57748),i(43285),i(6013),i(26204);var I,k,A,D,P,F,O,T,H,z,R,N,K,E=i(35120),U=i(79887),B=i(929),L=i(41838),q=i(84243),M=i(88267),W=i(13922);const V=(0,m.AH)(I||(I=(0,s.A)([':host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:inline-block;font-size:var(--calcite-font-size--2);line-height:1rem;font-weight:var(--calcite-font-weight-normal);inline-size:var(--calcite-internal-color-picker-min-width);min-inline-size:var(--calcite-internal-color-picker-min-width)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}:host([scale=s]){--calcite-internal-color-picker-min-width: 200px;--calcite-color-picker-spacing: 8px}:host([scale=s]) .saved-colors{gap:.25rem;grid-template-columns:repeat(auto-fill,20px)}:host([scale=m]){--calcite-internal-color-picker-min-width: 240px;--calcite-color-picker-spacing: 12px}:host([scale=l]){--calcite-internal-color-picker-min-width: 304px;--calcite-color-picker-spacing: 16px;font-size:var(--calcite-font-size--1);line-height:1rem}:host([scale=l]) .section:first-of-type{padding-block-start:var(--calcite-color-picker-spacing)}:host([scale=l]) .saved-colors{grid-template-columns:repeat(auto-fill,32px)}:host([scale=l]) .control-section{display:flex;flex-direction:column;flex-wrap:wrap;align-items:baseline}:host([scale=l]) .color-hex-options{inline-size:100%;display:flex;flex-shrink:1;flex-direction:column;justify-content:space-around}:host([scale=l]) .color-mode-container{flex-shrink:3}.container{background-color:var(--calcite-color-foreground-1);display:flex;flex-direction:column;block-size:min-content;border:1px solid var(--calcite-color-border-1)}.control-and-scope{position:relative;display:flex;cursor:pointer;touch-action:none}.color-field,.control-and-scope{-webkit-user-select:none;user-select:none}.scope{pointer-events:none;position:absolute;z-index:var(--calcite-z-index);block-size:1px;inline-size:1px;border-radius:9999px;background-color:transparent;font-size:var(--calcite-font-size--1);outline-color:transparent}.scope:focus{outline:2px solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline-offset:calc(2px*(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))));outline-offset:6px}.hex-and-channels-group{display:flex;inline-size:100%;flex-direction:column;flex-wrap:wrap}.section{padding-block:0 var(--calcite-color-picker-spacing);padding-inline:var(--calcite-color-picker-spacing)}.section:first-of-type{padding-block-start:var(--calcite-color-picker-spacing)}.sliders{display:flex;flex-direction:column;justify-content:space-between;margin-inline-start:var(--calcite-color-picker-spacing);gap:var(--calcite-spacing-xxs)}.preview-and-sliders{display:flex;align-items:center;padding:var(--calcite-color-picker-spacing)}.color-hex-options,.section--split{flex-grow:1}.header{display:flex;align-items:center;justify-content:space-between;color:var(--calcite-color-text-1)}.color-mode-container{padding-block-start:var(--calcite-color-picker-spacing)}.channels{display:flex}.channel{flex-grow:1}.channel[data-channel-index="3"]{margin-inline-start:-1px;min-inline-size:81px}:host([scale=s]) .channel[data-channel-index="3"]{min-inline-size:68px}:host([scale=l]) .channel[data-channel-index="3"]{min-inline-size:88px}.saved-colors{display:grid;gap:.5rem;padding-block-start:var(--calcite-color-picker-spacing);grid-template-columns:repeat(auto-fill,24px)}.saved-colors-buttons{display:flex}.saved-color{outline-offset:0;outline-color:transparent;cursor:pointer}.saved-color:focus{outline:2px solid var(--calcite-color-brand);outline-offset:2px}.saved-color:hover{transition:outline-color var(--calcite-internal-animation-timing-fast) ease-in-out;outline:2px solid var(--calcite-color-border-2);outline-offset:2px}:host([hidden]){display:none}[hidden]{display:none}'])));class j extends u.WF{constructor(){var e;super(),e=this,this._color=C.D,this.internalColorUpdateContext=null,this.isActiveChannelInputEmpty=!1,this.mode=C.C.HEX,this.resizeObserver=(0,W.c)("resize",e=>this.resizeCanvas(e)),this.shiftKeyChannelAdjustment=0,this.upOrDownArrowKeyTracker=null,this._valueWasSet=!1,this.messages=(0,M.u)({blocking:!0}),this.captureColorFieldColor=function(t,i){let a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const{width:l,height:n}=e.dynamicDimensions.colorField,o=Math.round(C.H.s/l*t),s=Math.round(C.H.v/n*(n-i));e.internalColorSet(e.baseColorFieldColor.hsv().saturationv(o).value(s),a)},this.drawColorControls=(0,U.A)(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all";"all"!==t&&"color-field"!==t||!e.colorFieldRenderingContext||e.drawColorField(),"all"!==t&&"hue-slider"!==t||!e.hueSliderRenderingContext||e.drawHueSlider(),e.alphaChannel&&("all"===t||"opacity-slider"===t)&&e.opacitySliderRenderingContext&&e.drawOpacitySlider()},16),this.globalPointerMoveHandler=e=>{const{activeCanvasInfo:t,el:i}=this;if(!i.isConnected||!t)return;const{context:a,bounds:l}=t;let n,o;const{clientX:s,clientY:r}=e;a.canvas.matches(":hover")?(n=s-l.x,o=r-l.y):(n=s<l.x+l.width&&s>l.x?s-l.x:s<l.x?0:l.width,o=r<l.y+l.height&&r>l.y?r-l.y:r<l.y?0:l.height),a===this.colorFieldRenderingContext?this.captureColorFieldColor(n,o,!1):a===this.hueSliderRenderingContext?this.captureHueSliderColor(n):a===this.opacitySliderRenderingContext&&this.captureOpacitySliderValue(n)},this.globalPointerUpHandler=e=>{if(!(0,v.i)(e))return;const t=this.activeCanvasInfo;this.activeCanvasInfo=null,this.drawColorControls(),t&&this.calciteColorPickerChange.emit()},this.resizeCanvas=(0,U.A)(e=>{if(!this.hasUpdated)return;const[t]=e,i=Math.floor(t.contentBoxSize[0].inlineSize);this.dynamicDimensions.colorField.width!==i&&(this.updateDynamicDimensions(i),this.updateCanvasSize(),this.drawColorControls())},16),this.updateDynamicDimensions=e=>{const t={width:(0,C.g)(e,this.staticDimensions,this.alphaChannel),height:this.staticDimensions.slider.height};this.dynamicDimensions={colorField:(0,C.e)(e),slider:t}},this.channelMode="rgb",this.channels=this.toChannels(C.D),this.staticDimensions=C.S.m,this.savedColors=[],this.allowEmpty=!1,this.alphaChannel=!1,this.channelsDisabled=!1,this.clearable=!1,this.disabled=!1,this.format="auto",this.hexDisabled=!1,this.savedDisabled=!1,this.scale="m",this.calciteColorPickerChange=(0,u.lh)({cancelable:!1}),this.calciteColorPickerInput=(0,u.lh)({cancelable:!1}),this.listen("keydown",this.handleChannelKeyUpOrDown,{capture:!0}),this.listen("keyup",this.handleChannelKeyUpOrDown,{capture:!0})}get color(){return this._color}set color(e){const t=this._color;this._color=e,this.handleColorChange(e,t)}get value(){return this._value}set value(e){const t=this._value;this._value=e,this.handleValueChange(e,t),this._valueWasSet=!0}async setFocus(){await(0,b.c)(this),(0,v.h)(this.el)}connectedCallback(){super.connectedCallback(),this.observeResize()}async load(){var e;this._valueWasSet||(null!==(e=this._value)&&void 0!==e||(this._value=(0,C.n)((0,C.h)(C.D,this.alphaChannel))));this.handleAllowEmptyOrClearableChange();const{isClearable:t,color:i,format:a,value:l}=this,n=t&&!l,o=(0,C.p)(l),s=n||"auto"===a&&o||a===o,r=n?null:s?(0,d.A)(l):i;s||this.showIncompatibleColorWarning(l,a),this.setMode(a,!1),this.internalColorSet(r,!1,"initial"),this.updateStaticDimensions(this.scale),this.updateDynamicDimensions(C.S[this.scale].minWidth);const c="".concat(C.f).concat(this.storageId);this.storageId&&localStorage.getItem(c)&&(this.savedColors=JSON.parse(localStorage.getItem(c)))}willUpdate(e){(e.has("allowEmpty")&&(this.hasUpdated||!1!==this.allowEmpty)||e.has("clearable")&&(this.hasUpdated||!1!==this.clearable))&&this.handleAllowEmptyOrClearableChange(),e.has("alphaChannel")&&(this.hasUpdated||!1!==this.alphaChannel)&&this.handleAlphaChannelChange(this.alphaChannel),this.hasUpdated&&(e.has("alphaChannel")&&!1!==this.alphaChannel||e.has("staticDimensions")&&this.staticDimensions!==C.S.m)&&this.handleAlphaChannelDimensionsChange(),(e.has("alphaChannel")&&(this.hasUpdated||!1!==this.alphaChannel)||e.has("format")&&(this.hasUpdated||"auto"!==this.format))&&this.handleFormatOrAlphaChannelChange(),e.has("scale")&&(this.hasUpdated||"m"!==this.scale)&&this.handleScaleChange(this.scale)}updated(){(0,B.u)(this)}loaded(){this.handleAlphaChannelDimensionsChange()}disconnectedCallback(){var e;super.disconnectedCallback(),window.removeEventListener("pointermove",this.globalPointerMoveHandler),window.removeEventListener("pointerup",this.globalPointerUpHandler),null===(e=this.resizeObserver)||void 0===e||e.disconnect()}get baseColorFieldColor(){return this.color||this.previousColor||C.D}get effectiveSliderWidth(){return this.dynamicDimensions.slider.width}observeResize(){var e;null===(e=this.resizeObserver)||void 0===e||e.observe(this.el)}handleAllowEmptyOrClearableChange(){this.isClearable=this.clearable||this.allowEmpty}handleAlphaChannelChange(e){const{format:t}=this;e&&"auto"!==t&&!(0,C.j)(t)&&(console.warn("ignoring alphaChannel as the current format (".concat(t,") does not support alpha")),this.alphaChannel=!1)}handleAlphaChannelDimensionsChange(){this.drawColorControls()}handleColorChange(e,t){this.drawColorControls(),this.updateChannelsFromColor(e),this.previousColor=t}handleFormatOrAlphaChannelChange(){this.setMode(this.format),this.internalColorSet(this.color,!1,"internal")}handleScaleChange(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"m";this.updateStaticDimensions(e),this.updateCanvasSize(),this.drawColorControls()}handleValueChange(e,t){const{isClearable:i,format:a}=this;let l=!1;if(!i||e){const i=(0,C.p)(e);if(!i||"auto"!==a&&i!==a)return this.showIncompatibleColorWarning(e,a),void(this._value=t);l=this.mode!==i,this.setMode(i,null===this.internalColorUpdateContext)}const n=this.activeCanvasInfo;if("initial"===this.internalColorUpdateContext)return;if("user-interaction"===this.internalColorUpdateContext)return this.calciteColorPickerInput.emit(),void(n||this.calciteColorPickerChange.emit());const o=i&&!e?null:(0,d.A)(null!=e&&"object"===typeof e&&(0,C.j)(this.mode)?(0,C.k)(e):e),s=!(0,C.l)(o,this.color);(l||s)&&this.internalColorSet(o,this.alphaChannel&&!(this.mode.endsWith("a")||this.mode.endsWith("a-css"))||"internal"===this.internalColorUpdateContext,"internal")}handleTabActivate(e){this.channelMode=e.currentTarget.getAttribute("data-color-mode"),this.updateChannelsFromColor(this.color)}handleColorFieldScopeKeyDown(e){const{key:t}=e,i={ArrowUp:{x:0,y:-10},ArrowRight:{x:10,y:0},ArrowDown:{x:0,y:10},ArrowLeft:{x:-10,y:0}};i[t]&&(e.preventDefault(),this.scopeOrientation="ArrowDown"===t||"ArrowUp"===t?"vertical":"horizontal",this.captureColorFieldColor(this.colorFieldScopeLeft+i[t].x||0,this.colorFieldScopeTop+i[t].y||0,!1))}handleHueScopeKeyDown(e){const t=e.shiftKey?10:1,{key:i}=e,a={ArrowUp:1,ArrowRight:1,ArrowDown:-1,ArrowLeft:-1};if(a[i]){e.preventDefault();const l=a[i]*t,n=this.baseColorFieldColor.hue(),o=this.baseColorFieldColor.hue(n+l);this.internalColorSet(o,!1)}}handleHexInputChange(e){e.stopPropagation();const{isClearable:t,color:i}=this,a=e.target.value;if(t&&!a)return void this.internalColorSet(null);a!==(i&&(0,C.n)((0,C.h)(i,(0,C.j)(this.mode))))&&this.internalColorSet((0,d.A)(a))}handleSavedColorSelect(e){const t=e.currentTarget;this.internalColorSet((0,d.A)(t.color))}handleChannelInput(e){const t=e.currentTarget,i=Number(t.getAttribute("data-channel-index")),a=3===i?C.O.max:"rgb"===this.channelMode?C.R[Object.keys(C.R)[i]]:C.H[Object.keys(C.H)[i]];let l;if(t.value){const e=Number(t.value)+this.shiftKeyChannelAdjustment;l=(0,q.c)(e,0,a).toString()}else l="",this.isActiveChannelInputEmpty=!0,this.upOrDownArrowKeyTracker=null;t.value=l,(""!==l&&0!==this.shiftKeyChannelAdjustment||""!==l)&&this.handleChannelChange(e)}handleChannelBlur(e){const t=e.currentTarget,i=Number(t.getAttribute("data-channel-index")),a=[...this.channels];var l;t.value||this.isClearable||(t.value=null===(l=a[i])||void 0===l?void 0:l.toString())}handleChannelFocus(e){e.currentTarget.selectText()}handleChannelKeyUpOrDown(e){this.shiftKeyChannelAdjustment=0;const{key:t}=e;if("ArrowUp"!==t&&"ArrowDown"!==t||!e.composedPath().some(e=>{var t;return null===(t=e.classList)||void 0===t?void 0:t.contains(C.m.channel)}))return;const{shiftKey:i}=e;if(e.preventDefault(),!this.color)return this.internalColorSet(this.previousColor),void e.stopPropagation();this.shiftKeyChannelAdjustment="ArrowUp"===t&&i?9:"ArrowDown"===t&&i?-9:0,"ArrowUp"===t&&(this.upOrDownArrowKeyTracker="up"),"ArrowDown"===t&&(this.upOrDownArrowKeyTracker="down")}getChannelInputLimit(e){return"rgb"===this.channelMode?C.R[Object.keys(C.R)[e]]:C.H[Object.keys(C.H)[e]]}handleChannelChange(e){const t=e.currentTarget,i=Number(t.getAttribute("data-channel-index")),a=[...this.channels];if(this.isClearable&&!t.value)return this.channels=[null,null,null,null],void this.internalColorSet(null);const l=3===i;this.isActiveChannelInputEmpty&&this.upOrDownArrowKeyTracker&&(t.value="up"===this.upOrDownArrowKeyTracker?(a[i]+1<=this.getChannelInputLimit(i)?a[i]+1:this.getChannelInputLimit(i)).toString():(a[i]-1>=0?a[i]-1:0).toString(),this.isActiveChannelInputEmpty=!1,this.upOrDownArrowKeyTracker=null);const n=t.value?Number(t.value):a[i];a[i]=l?(0,C.o)(n):n,this.updateColorFromChannels(a)}handleSavedColorKeyDown(e){(0,L.i)(e.key)&&(e.preventDefault(),this.handleSavedColorSelect(e))}handleColorFieldPointerDown(e){this.handleCanvasControlPointerDown(e,this.colorFieldRenderingContext,this.captureColorFieldColor,this.colorFieldScopeNode)}focusScope(e){requestAnimationFrame(()=>{e.focus()})}handleHueSliderPointerDown(e){this.handleCanvasControlPointerDown(e,this.hueSliderRenderingContext,this.captureHueSliderColor,this.hueScopeNode)}handleOpacitySliderPointerDown(e){this.handleCanvasControlPointerDown(e,this.opacitySliderRenderingContext,this.captureOpacitySliderValue,this.opacityScopeNode)}handleCanvasControlPointerDown(e,t,i,a){(0,v.i)(e)&&(window.addEventListener("pointermove",this.globalPointerMoveHandler),window.addEventListener("pointerup",this.globalPointerUpHandler,{once:!0}),this.activeCanvasInfo={context:t,bounds:t.canvas.getBoundingClientRect()},i.call(this,e.offsetX,e.offsetY),this.focusScope(a))}storeColorFieldScope(e){this.colorFieldScopeNode=e}storeHueScope(e){this.hueScopeNode=e}handleKeyDown(e){"Enter"===e.key&&e.preventDefault()}showIncompatibleColorWarning(e,t){console.warn("ignoring color value (".concat(e,") as it is not compatible with the current format (").concat(t,")"))}setMode(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const i="auto"===e?this.mode:e;this.mode=this.ensureCompatibleMode(i,t)}ensureCompatibleMode(e,t){const{alphaChannel:i}=this,a=(0,C.j)(e);if(i&&!a){const i=(0,C.t)(e);return t&&console.warn("setting format to (".concat(i,") as the provided one (").concat(e,") does not support alpha")),i}if(!i&&a){const i=(0,C.q)(e);return t&&console.warn("setting format to (".concat(i,") as the provided one (").concat(e,") does not support alpha")),i}return e}captureHueSliderColor(e){const t=C.s/this.effectiveSliderWidth*e;this.internalColorSet(this.baseColorFieldColor.hue(t),!1)}captureOpacitySliderValue(e){const t=(0,C.o)(C.O.max/this.effectiveSliderWidth*e);this.internalColorSet(this.baseColorFieldColor.alpha(t),!1)}internalColorSet(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"user-interaction";(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(0,C.l)(e,this.color)||(this.internalColorUpdateContext=t,this.color=e,this.value=this.toValue(e),this.internalColorUpdateContext=null)}toValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.mode;if(!e)return null;if(t.includes("hex")){const i=t===C.C.HEXA;return(0,C.n)((0,C.h)(e.round(),i),i)}if(t.includes("-css")){const i=e[t.replace("-css","").replace("a","")]().round().string();if((t.endsWith("a")||t.endsWith("a-css"))&&1===e.alpha()){const t=i.slice(0,3),a=i.slice(4,-1);return"".concat(t,"a(").concat(a,", ").concat(e.alpha(),")")}return i}const i=e[(0,C.q)(t)]().round().object();return t.endsWith("a")?(0,C.u)(i):i}getSliderCapSpacing(){const{staticDimensions:{slider:{height:e},thumb:{radius:t}}}=this;return 2*t-e}updateStaticDimensions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"m";this.staticDimensions=C.S[e]}deleteColor(){const e=(0,C.h)(this.color,this.alphaChannel);if(!(this.savedColors.indexOf(e)>-1))return;const t=this.savedColors.filter(t=>t!==e);this.savedColors=t;const i="".concat(C.f).concat(this.storageId);this.storageId&&localStorage.setItem(i,JSON.stringify(t))}saveColor(){const e=(0,C.h)(this.color,this.alphaChannel);if(this.savedColors.indexOf(e)>-1)return;const t=[...this.savedColors,e];this.savedColors=t;const i="".concat(C.f).concat(this.storageId);this.storageId&&localStorage.setItem(i,JSON.stringify(t))}drawColorField(){const e=this.colorFieldRenderingContext,{width:t,height:i}=this.dynamicDimensions.colorField;e.fillStyle=this.baseColorFieldColor.hsv().saturationv(100).value(100).alpha(1).string(),e.fillRect(0,0,t,i);const a=e.createLinearGradient(0,0,t,0);a.addColorStop(0,"rgba(255,255,255,1)"),a.addColorStop(1,"rgba(255,255,255,0)"),e.fillStyle=a,e.fillRect(0,0,t,i);const l=e.createLinearGradient(0,0,0,i);l.addColorStop(0,"rgba(0,0,0,0)"),l.addColorStop(1,"rgba(0,0,0,1)"),e.fillStyle=l,e.fillRect(0,0,t,i),this.drawActiveColorFieldColor()}setCanvasContextSize(e,t){let{height:i,width:a}=t;if(!e)return;const l=window.devicePixelRatio||1;e.width=a*l,e.height=i*l,e.style.height="".concat(i,"px"),e.style.width="".concat(a,"px");e.getContext("2d").scale(l,l)}initColorField(e){e&&(this.colorFieldRenderingContext=e.getContext("2d"),this.updateCanvasSize("color-field"),this.drawColorControls())}initHueSlider(e){e&&(this.hueSliderRenderingContext=e.getContext("2d"),this.updateCanvasSize("hue-slider"),this.drawHueSlider())}initOpacitySlider(e){e&&(this.opacitySliderRenderingContext=e.getContext("2d"),this.updateCanvasSize("opacity-slider"),this.drawOpacitySlider())}updateCanvasSize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all";const{dynamicDimensions:t,staticDimensions:i}=this;var a;"all"!==e&&"color-field"!==e||this.setCanvasContextSize(null===(a=this.colorFieldRenderingContext)||void 0===a?void 0:a.canvas,t.colorField);const l={width:this.effectiveSliderWidth,height:i.slider.height+2*(i.thumb.radius-t.slider.height/2)};var n,o;"all"!==e&&"hue-slider"!==e||this.setCanvasContextSize(null===(n=this.hueSliderRenderingContext)||void 0===n?void 0:n.canvas,l);"all"!==e&&"opacity-slider"!==e||this.setCanvasContextSize(null===(o=this.opacitySliderRenderingContext)||void 0===o?void 0:o.canvas,l)}drawActiveColorFieldColor(){const{color:e}=this;if(!e)return;const t=e.hsv(),{staticDimensions:{thumb:{radius:i}}}=this,{width:a,height:l}=this.dynamicDimensions.colorField,n=t.saturationv()/(C.H.s/a),o=l-t.value()/(C.H.v/l);requestAnimationFrame(()=>{this.colorFieldScopeLeft=n,this.colorFieldScopeTop=o}),this.drawThumb(this.colorFieldRenderingContext,i,n,o,t,!1)}drawThumb(e,t,i,a,l,n){const o=2*Math.PI;if(e.beginPath(),e.arc(i,a,t,0,o),e.fillStyle="#fff",e.fill(),e.strokeStyle="rgba(0,0,0,0.3)",e.lineWidth=1,e.stroke(),n&&l.alpha()<1){const l=e.createPattern(this.getCheckeredBackgroundPattern(),"repeat");e.beginPath(),e.arc(i,a,t-3,0,o),e.fillStyle=l,e.fill()}e.globalCompositeOperation="source-atop",e.beginPath(),e.arc(i,a,t-3,0,o);const s=n?l.alpha():1;e.fillStyle=l.rgb().alpha(s).string(),e.fill(),e.globalCompositeOperation="source-over"}drawActiveHueSliderColor(){const{color:e}=this;if(!e)return;const t=e.hsv().saturationv(100).value(100),{staticDimensions:{thumb:{radius:i}}}=this,a=this.effectiveSliderWidth,l=t.hue()/(C.s/a),n=i,o=this.getSliderBoundX(l,a,i);requestAnimationFrame(()=>{this.hueScopeLeft=o}),this.drawThumb(this.hueSliderRenderingContext,i,o,n,t,!1)}drawHueSlider(){const e=this.hueSliderRenderingContext,{staticDimensions:{slider:{height:t},thumb:{radius:i}}}=this,a=i-t/2,l=this.effectiveSliderWidth,n=e.createLinearGradient(0,0,l,0),o=["red","yellow","lime","cyan","blue","magenta","#ff0004"],s=1/(o.length-1);let r=0;o.forEach(e=>{n.addColorStop(r,(0,d.A)(e).string()),r+=s}),e.clearRect(0,0,l,t+2*this.getSliderCapSpacing()),this.drawSliderPath(e,t,l,0,a),e.fillStyle=n,e.fill(),e.strokeStyle="rgba(0,0,0,0.3)",e.lineWidth=1,e.stroke(),this.drawActiveHueSliderColor()}drawOpacitySlider(){const e=this.opacitySliderRenderingContext,{baseColorFieldColor:t,staticDimensions:{slider:{height:i},thumb:{radius:a}}}=this,l=a-i/2,n=this.effectiveSliderWidth;e.clearRect(0,0,n,i+2*this.getSliderCapSpacing());const o=e.createLinearGradient(0,l,n,0),s=t.rgb().alpha(0),r=t.rgb().alpha(.5),c=t.rgb().alpha(1);o.addColorStop(0,s.string()),o.addColorStop(.5,r.string()),o.addColorStop(1,c.string()),this.drawSliderPath(e,i,n,0,l);const h=e.createPattern(this.getCheckeredBackgroundPattern(),"repeat");e.fillStyle=h,e.fill(),e.fillStyle=o,e.fill(),e.strokeStyle="rgba(0,0,0,0.3)",e.lineWidth=1,e.stroke(),this.drawActiveOpacitySliderColor()}drawSliderPath(e,t,i,a,l){const n=t/2+1;e.beginPath(),e.moveTo(a+n,l),e.lineTo(a+i-n,l),e.quadraticCurveTo(a+i,l,a+i,l+n),e.lineTo(a+i,l+t-n),e.quadraticCurveTo(a+i,l+t,a+i-n,l+t),e.lineTo(a+n,l+t),e.quadraticCurveTo(a,l+t,a,l+t-n),e.lineTo(a,l+n),e.quadraticCurveTo(a,l,a+n,l),e.closePath()}getCheckeredBackgroundPattern(){if(this.checkerPattern)return this.checkerPattern;const e=document.createElement("canvas");e.width=10,e.height=10;const t=e.getContext("2d");return t.fillStyle="#ccc",t.fillRect(0,0,10,10),t.fillStyle="#fff",t.fillRect(0,0,5,5),t.fillRect(5,5,5,5),this.checkerPattern=e,e}drawActiveOpacitySliderColor(){const{color:e}=this;if(!e)return;const t=e,{staticDimensions:{thumb:{radius:i}}}=this,a=this.effectiveSliderWidth,l=(0,C.c)(t.alpha())/(C.O.max/a),n=i,o=this.getSliderBoundX(l,a,i);requestAnimationFrame(()=>{this.opacityScopeLeft=o}),this.drawThumb(this.opacitySliderRenderingContext,i,o,n,t,!0)}getSliderBoundX(e,t,i){const a=(0,q.a)(e,t,i);return 0===a?e:-1===a?(0,q.r)(e,0,t,i,2*i):(0,q.r)(e,0,t,t-2*i,t-i)}storeOpacityScope(e){this.opacityScopeNode=e}handleOpacityScopeKeyDown(e){const t=e.shiftKey?10:1,{key:i}=e,a={ArrowUp:.01,ArrowRight:.01,ArrowDown:-.01,ArrowLeft:-.01};if(a[i]){e.preventDefault();const l=a[i]*t,n=this.baseColorFieldColor.alpha(),o=this.baseColorFieldColor.alpha(n+l);this.internalColorSet(o,!1)}}updateColorFromChannels(e){this.internalColorSet((0,d.A)(e,this.channelMode))}updateChannelsFromColor(e){this.channels=e?this.toChannels(e):[null,null,null,null]}toChannels(e){const{channelMode:t}=this,i=e[t]().array().map((e,t)=>3===t?e:Math.floor(e));return 3===i.length&&i.push(1),i}getAdjustedScopePosition(e,t){return[e-C.v/2,t-C.v/2]}render(){const{channelsDisabled:e,color:t,colorFieldScopeLeft:i,colorFieldScopeTop:a,staticDimensions:{thumb:{radius:l}},hexDisabled:n,hueScopeLeft:o,messages:r,alphaChannel:h,opacityScopeLeft:d,savedColors:v,savedDisabled:b,scale:m,scopeOrientation:g}=this,f=this.effectiveSliderWidth,y=t?(0,C.h)(t,h):null,x=l,S=null!==o&&void 0!==o?o:f*C.D.hue()/C.H.h,w=l,I=null!==d&&void 0!==d?d:f*(0,C.c)(C.D.alpha())/C.O.max,k=void 0===t,R="vertical"===g,[N,K]=this.getAdjustedScopePosition(i,a),[U,L]=this.getAdjustedScopePosition(S,x),[q,M]=this.getAdjustedScopePosition(I,w);return(0,B.I)({disabled:this.disabled,children:(0,p.qy)(A||(A=(0,s.A)(["<div class=","><div class=","><canvas class="," @pointerdown="," ","></canvas><div .ariaLabel="," .ariaValueMax="," aria-valuemin=0 .ariaValueNow="," class="," @keydown="," role=slider style="," tabindex=0 ","></div></div><div class=","><calcite-color-picker-swatch class="," .color="," .scale=","></calcite-color-picker-swatch><div class=","><div class=","><canvas class="," @pointerdown="," ","></canvas><div .ariaLabel="," .ariaValueMax="," aria-valuemin=0 .ariaValueNow="," class="," @keydown="," role=slider style="," tabindex=0 ","></div></div>","</div></div>","","</div>"])),(0,u.CP)(C.m.container),(0,u.CP)(C.m.controlAndScope),(0,u.CP)(C.m.colorField),this.handleColorFieldPointerDown,(0,c.K)(this.initColorField),R?r.value:r.saturation,R?C.H.v:C.H.s,(R?null===t||void 0===t?void 0:t.saturationv():null===t||void 0===t?void 0:t.value())||"0",(0,u.CP)({[C.m.scope]:!0,[C.m.colorFieldScope]:!0}),this.handleColorFieldScopeKeyDown,(0,u.zl)({top:"".concat(K||0,"px"),left:"".concat(N||0,"px")}),(0,c.K)(this.storeColorFieldScope),(0,u.CP)(C.m.previewAndSliders),(0,u.CP)(C.m.preview),y,this.alphaChannel?"l":this.scale,(0,u.CP)(C.m.sliders),(0,u.CP)(C.m.controlAndScope),(0,u.CP)({[C.m.slider]:!0,[C.m.hueSlider]:!0}),this.handleHueSliderPointerDown,(0,c.K)(this.initHueSlider),r.hue,C.H.h,(null===t||void 0===t?void 0:t.round().hue())||C.D.round().hue(),(0,u.CP)({[C.m.scope]:!0,[C.m.hueScope]:!0}),this.handleHueScopeKeyDown,(0,u.zl)({top:"".concat(L,"px"),left:"".concat(U,"px")}),(0,c.K)(this.storeHueScope),h?(0,p.qy)(D||(D=(0,s.A)(["<div class=","><canvas class="," @pointerdown="," ","></canvas><div .ariaLabel="," .ariaValueMax="," .ariaValueMin="," .ariaValueNow="," class="," @keydown="," role=slider style="," tabindex=0 ","></div></div>"])),(0,u.CP)(C.m.controlAndScope),(0,u.CP)({[C.m.slider]:!0,[C.m.opacitySlider]:!0}),this.handleOpacitySliderPointerDown,(0,c.K)(this.initOpacitySlider),r.opacity,C.O.max,C.O.min,(t||C.D).round().alpha(),(0,u.CP)({[C.m.scope]:!0,[C.m.opacityScope]:!0}),this.handleOpacityScopeKeyDown,(0,u.zl)({top:"".concat(M,"px"),left:"".concat(q,"px")}),(0,c.K)(this.storeOpacityScope)):null,n&&e?null:(0,p.qy)(P||(P=(0,s.A)(["<div class=","><div class=",">","","</div></div>"])),(0,u.CP)({[C.m.controlSection]:!0,[C.m.section]:!0}),(0,u.CP)(C.m.hexAndChannelsGroup),n?null:(0,p.qy)(F||(F=(0,s.A)(["<div class=","><calcite-color-picker-hex-input .allowEmpty="," .alphaChannel="," class="," .messages="," .numberingSystem="," @calciteColorPickerHexInputChange="," .scale="," .value=","></calcite-color-picker-hex-input></div>"])),(0,u.CP)(C.m.hexOptions),this.isClearable,h,(0,u.CP)(C.m.control),r,this.numberingSystem,this.handleHexInputChange,m,y),e?null:(0,p.qy)(O||(O=(0,s.A)(["<calcite-tabs class="," .scale=","><calcite-tab-nav slot=title-group>","","</calcite-tab-nav>","","</calcite-tabs>"])),(0,u.CP)({[C.m.colorModeContainer]:!0,[C.m.splitSection]:!0}),"l"===m?"m":"s",this.renderChannelsTabTitle("rgb"),this.renderChannelsTabTitle("hsv"),this.renderChannelsTab("rgb"),this.renderChannelsTab("hsv"))),b?null:(0,p.qy)(T||(T=(0,s.A)(["<div class=","><div class=","><label>","</label><div class=","><calcite-button appearance=transparent class="," .disabled="," icon-start=minus kind=neutral .label="," @click="," .scale="," type=button></calcite-button><calcite-button appearance=transparent class="," .disabled="," icon-start=plus kind=neutral .label="," @click="," .scale="," type=button></calcite-button></div></div>","</div>"])),(0,u.CP)({[C.m.savedColorsSection]:!0,[C.m.section]:!0}),(0,u.CP)(C.m.header),r.saved,(0,u.CP)(C.m.savedColorsButtons),(0,u.CP)(C.m.deleteColor),k,r.deleteColor,this.deleteColor,m,(0,u.CP)(C.m.saveColor),k,r.saveColor,this.saveColor,m,v.length>0?(0,p.qy)(H||(H=(0,s.A)(["<div class=",">","</div>"])),(0,u.CP)(C.m.savedColors),(0,E.u)(v,e=>e,e=>(0,p.qy)(z||(z=(0,s.A)(["<calcite-color-picker-swatch class="," .color="," @click="," @keydown="," .scale="," tabindex=0></calcite-color-picker-swatch>"])),(0,u.CP)(C.m.savedColor),e,this.handleSavedColorSelect,this.handleSavedColorKeyDown,m))):null))})}renderChannelsTabTitle(e){const{channelMode:t,messages:i}=this,a=e===t,l="rgb"===e?i.rgb:i.hsv;return(0,h.D)(e,(0,p.qy)(R||(R=(0,s.A)(["<calcite-tab-title class="," data-color-mode="," @calciteTabsActivate="," .selected=",">","</calcite-tab-title>"])),(0,u.CP)(C.m.colorMode),null!==e&&void 0!==e?e:p.s6,this.handleTabActivate,a,l))}renderChannelsTab(e){const{isClearable:t,channelMode:i,channels:a,messages:l,alphaChannel:n}=this,o=e===i,r="rgb"===e?[l.red,l.green,l.blue]:[l.hue,l.saturation,l.value],c=(0,v.g)(this.el),d=n?a:a.slice(0,3);return(0,h.D)(e,(0,p.qy)(N||(N=(0,s.A)(["<calcite-tab class="," .selected=","><div class="," dir=ltr>","</div></calcite-tab>"])),(0,u.CP)(C.m.control),o,(0,u.CP)(C.m.channels),d.map((e,i)=>{const a=3===i;return a&&(e=t&&!e?e:(0,C.c)(e)),this.renderChannel(e,i,r[i],c,a?"%":"")})))}renderChannel(e,t,i,a,l){var n;return(0,h.D)(t,(0,p.qy)(K||(K=(0,s.A)(["<calcite-input-number class="," data-channel-index="," dir="," .label="," lang="," number-button-type=none .numberingSystem="," @keydown="," @calciteInputNumberChange="," @calciteInputNumberInput="," @calciteInternalInputNumberBlur="," @calciteInternalInputNumberFocus="," .scale="," style="," .suffixText="," .value=","></calcite-input-number>"])),(0,u.CP)(C.m.channel),null!==t&&void 0!==t?t:p.s6,null!==a&&void 0!==a?a:p.s6,i,null!==(n=this.messages._lang)&&void 0!==n?n:p.s6,this.numberingSystem,this.handleKeyDown,this.handleChannelChange,this.handleChannelInput,this.handleChannelBlur,this.handleChannelFocus,"l"===this.scale?"m":"s",(0,u.zl)({marginLeft:t>0&&("s"!==this.scale||!this.alphaChannel||3!==t)?"-1px":""}),l,null===e||void 0===e?void 0:e.toString()))}}(k=j).properties={channelMode:[16,{},{state:!0}],channels:[16,{},{state:!0}],colorFieldScopeLeft:[16,{},{state:!0}],colorFieldScopeTop:[16,{},{state:!0}],staticDimensions:[16,{},{state:!0}],hueScopeLeft:[16,{},{state:!0}],opacityScopeLeft:[16,{},{state:!0}],savedColors:[16,{},{state:!0}],scopeOrientation:[16,{},{state:!0}],allowEmpty:[7,{},{reflect:!0,type:Boolean}],alphaChannel:[5,{},{type:Boolean}],channelsDisabled:[5,{},{type:Boolean}],clearable:[7,{},{reflect:!0,type:Boolean}],color:[0,{},{attribute:!1}],disabled:[7,{},{reflect:!0,type:Boolean}],format:[3,{},{reflect:!0}],hexDisabled:[5,{},{type:Boolean}],messageOverrides:[0,{},{attribute:!1}],numberingSystem:[3,{},{reflect:!0}],savedDisabled:[7,{},{reflect:!0,type:Boolean}],scale:[3,{},{reflect:!0}],storageId:[3,{},{reflect:!0}],value:1},k.styles=V,(0,r.c)("calcite-color-picker",j)},51345:(e,t,i)=>{i.r(t),i.d(t,{Tabs:()=>b});var a,l,n,o=i(57528),s=i(30697),r=i(80526),c=i(27698),h=i(98074),d=i(50965),p=i(94161);const u="section",C="title-group",v=(0,p.AH)(a||(a=(0,o.A)([":host{display:flex;flex-direction:column}:host([bordered]){box-shadow:inset 0 1px 0 var(--calcite-tab-border-color, var(--calcite-color-border-1));background-color:var(--calcite-tab-background-color, var(--calcite-color-foreground-1))}:host([bordered]) section{border-color:var(--calcite-tab-border-color, var(--calcite-color-border-1));border-style:solid}section{display:flex;flex-grow:1;overflow:hidden;border-width:1px;border-block-start-style:solid;border-block-start-color:var(--calcite-tab-border-color, var(--calcite-color-border-1))}:host([bordered][position=bottom]){box-shadow:inset 0 1px 0 var(--calcite-tab-border-color, var(--calcite-color-border-1)),inset 0 -1px 0 var(--calcite-tab-border-color, var(--calcite-color-border-1))}:host([bordered]:not([position=bottom])) ::slotted(calcite-tab-nav){margin-block-end:-1px}:host([position=bottom]){flex-direction:column-reverse}:host([position=bottom]) section{flex-direction:column-reverse;border-block-start-width:0px;border-block-end-width:1px}:host([bordered][scale=s]) section{padding:.75rem}:host([bordered][scale=m]) section{padding:.5rem}:host([bordered][scale=l]) section{padding:1rem}:host([position=bottom]:not([bordered])) section{border-block-end-style:solid;border-block-end-color:var(--calcite-tab-border-color, var(--calcite-color-border-1))}@media (forced-colors: active){:host([bordered]) section{border-block-start-width:0px;border-block-end-width:1px}:host([position=bottom][bordered]) section{border-block-start-width:1px;border-block-end-width:0px}}:host([hidden]){display:none}[hidden]{display:none}"])));class b extends h.WF{constructor(){super(),this.tabs=[],this.titles=[],this.bordered=!1,this.layout="inline",this.position="top",this.scale="m",this.listen("calciteInternalTabNavSlotChange",this.calciteInternalTabNavSlotChangeHandler)}connectedCallback(){super.connectedCallback(),this.updateItems()}load(){this.updateItems()}willUpdate(e){var t,i;(e.has("position")&&(this.hasUpdated||"top"!==this.position)||e.has("scale")&&(this.hasUpdated||"m"!==this.scale))&&this.updateItems(),(e.has("titles")||e.has("tabs"))&&this.hasUpdated&&(null===(t=this.titles)||void 0===t?void 0:t.length)>0&&(null===(i=this.tabs)||void 0===i?void 0:i.length)>0&&(this.updateAriaSettings(),this.updateItems())}calciteInternalTabNavSlotChangeHandler(e){e.stopPropagation(),e.detail.length!==this.titles.length&&(this.titles=e.detail)}defaultSlotChangeHandler(e){this.tabs=(0,d.s)(e,"calcite-tab")}async updateAriaSettings(){let e,t;await this.componentOnReady();const i=(0,d.e)(this.slotEl,"calcite-tab");if(i.some(e=>e.tab)||this.titles.some(e=>e.tab))e=i.sort((e,t)=>e.tab.localeCompare(t.tab)).map(e=>e.id),t=this.titles.sort((e,t)=>e.tab.localeCompare(t.tab)).map(e=>e.id);else{const a=await Promise.all(i.map(e=>e.getTabIndex())),l=await Promise.all(this.titles.map(e=>e.getTabIndex()));e=a.reduce((e,t,a)=>(e[t]=i[a].id,e),[]),t=l.reduce((e,t,i)=>(e[t]=this.titles[i].id,e),[])}i.forEach(i=>i._updateAriaInfo(e,t)),this.titles.forEach(i=>i._updateAriaInfo(e,t))}updateItems(){const{position:e,scale:t}=this,i=this.el.querySelector("calcite-tab-nav");i&&(i.position=e,i.scale=t),Array.from(this.el.querySelectorAll("calcite-tab")).forEach(e=>{e.parentElement===this.el&&(e.scale=t)}),Array.from(this.el.querySelectorAll("calcite-tab-nav > calcite-tab-title")).forEach(i=>{i.position=e,i.scale=t})}setDefaultSlotRef(e){this.slotEl=e}render(){return(0,c.qy)(n||(n=(0,o.A)(["<slot name=","></slot><section class=","><slot @slotchange="," ","></slot></section>"])),C,(0,h.CP)(u),this.defaultSlotChangeHandler,(0,r.K)(this.setDefaultSlotRef))}}(l=b).properties={tabs:[16,{},{state:!0}],titles:[16,{},{state:!0}],bordered:[5,{},{type:Boolean}],layout:[3,{},{reflect:!0}],position:[3,{},{reflect:!0}],scale:[3,{},{reflect:!0}]},l.styles=v,(0,s.c)("calcite-tabs",b)},79887:(e,t,i)=>{i.d(t,{A:()=>n});var a=i(33670),l=i(37664);const n=function(e,t,i){var n=!0,o=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return(0,l.A)(i)&&(n="leading"in i?!!i.leading:n,o="trailing"in i?!!i.trailing:o),(0,a.A)(e,t,{leading:n,maxWait:t,trailing:o})}}}]);
//# sourceMappingURL=46752.fec5c37b.chunk.js.map