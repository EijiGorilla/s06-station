"use strict";(self.webpackChunks06_station=self.webpackChunks06_station||[]).push([[90017],{90017:(e,t,s)=>{s.r(t),s.d(t,{post:()=>h,serverVersionCacheMap:()=>f});var r=s(89379),n=s(3825),o=s(50076),i=s(54994),a=s(94487),u=s(35143),c=s(42553),l=s(46053),p=(s(81806),s(76460),s(47249),s(85842));let v=class extends c.A{constructor(e){super(e),this.moment=null,this.success=!1}};(0,u._)([(0,l.MZ)({type:Date,json:{type:Number,write:{writer:(e,t)=>{t.moment=e?e.getTime():null}}}})],v.prototype,"moment",void 0),(0,u._)([(0,l.MZ)({type:Boolean,json:{write:!0}})],v.prototype,"success",void 0),v=(0,u._)([(0,p.$)("esri.rest.versionManagement.gdbVersion.support.PostResult")],v);const d=v,f=new Map;async function h(e,t,s,u){var c;f.has(e)||await(0,a.t)(f,e);const l=f.get(e);if((null!==(c=null===l||void 0===l?void 0:l.serverVersion)&&void 0!==c?c:0)<=11.1)throw new o.default("post:enterprise-version","versioning API requires ArcGIS Enterprise version 11.2 or higher");if(!t)throw new o.default("post:missing-guid","guid for version is missing");const p=(0,i.Dl)(e),v=s.toJSON();s.rows&&(v.rows=JSON.stringify(s.rows));const h=(0,i.jV)(p.query,(0,r.A)((0,r.A)({query:(0,i.lF)((0,r.A)((0,r.A)({},v),{},{f:"json"}))},u),{},{method:"post"}));t.startsWith("{")&&(t=t.slice(1,-1));const m="".concat(p.path,"/versions/").concat(t,"/post"),{data:w}=await(0,n.default)(m,h);return d.fromJSON(w)}},94487:(e,t,s)=>{s.d(t,{t:()=>n});var r=s(3825);async function n(e,t){let s=null;const n="string"==typeof t?t:t.path;if(!e.has(n)){const o=await(0,r.default)(n.replace(/\/VersionManagementServer/i,"/FeatureServer"),{query:{f:"json"}});s={serverVersion:Number(o.data.currentVersion),featureServerUrl:n.replace(/\/VersionManagementServer/i,"/FeatureServer")},e.set(t,s)}}}}]);
//# sourceMappingURL=90017.e9bfcd9a.chunk.js.map