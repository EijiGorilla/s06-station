"use strict";(self.webpackChunks06_station=self.webpackChunks06_station||[]).push([[27878],{28320:(t,e,n)=>{n.r(e),n.d(e,{default:()=>b});var i,o=n(89379),r=n(35143),s=n(3825),a=n(50076),l=n(16770),c=n(90534),u=n(49723),h=n(46053),m=(n(81806),n(76460),n(47249),n(28379)),d=n(85842),g=n(17707),p=n(83622),f=n(62705),v=n(73093),y=n(6446),I=n(79453);let w=class extends p.A{constructor(t){super(t),this.animationOptions=null,this.content=null,this.image=null,this.type="image",this[i]=!0,this.image=null}load(){const t=this.image;if("string"==typeof t){const e=(0,l.M5)(t).then(t=>{this._set("content",t)});this.addResolvingPromise(e)}else if(t instanceof HTMLImageElement){const e=t.decode().then(()=>{this._set("content",t)});this.addResolvingPromise(e)}else t?this._set("content",t):this.addResolvingPromise(Promise.reject(new a.default("image-element:invalid-image-type","Invalid image type",{image:t})));return Promise.resolve(this)}get contentWidth(){return null==this.content?0:this.content instanceof HTMLImageElement?this.content.naturalWidth:this.content.width}get contentHeight(){return null==this.content?0:this.content instanceof HTMLImageElement?this.content.naturalHeight:this.content.height}readImage(t,e,n){return(0,I.f)(e.url,n)}writeImage(t,e,n,i){if(null==t)return;const r=null===i||void 0===i?void 0:i.portalItem,a=null===i||void 0===i?void 0:i.resources;if(!r||!a)return void("string"==typeof t&&(e[n]=(0,I.t)(t,i)));const l=function(t){return"string"==typeof t&&!(0,c.isDataProtocol)(t)&&!(0,c.isBlobProtocol)(t)}(t)?t:null;if(l){if(null==(0,I.i)(l))return void(e[n]=l);const t=(0,I.t)(l,(0,o.A)((0,o.A)({},i),{},{verifyItemRelativeUrls:null!==i&&void 0!==i&&i.verifyItemRelativeUrls?{writtenUrls:i.verifyItemRelativeUrls.writtenUrls,rootPath:void 0}:void 0}),I.M.NO);if(r&&t&&!(0,c.isAbsolute)(t))return a.toKeep.push({resource:r.resourceFromPath(t),compress:!1}),void(e[n]=t)}e[n]="<pending>",a.pendingOperations.push(async function(t){if("string"==typeof t)return(0,c.isDataProtocol)(t)?(0,c.dataToBlob)(t):(await(0,s.default)(t,{responseType:"blob"})).data;return new Promise(e=>function(t){if(t instanceof HTMLCanvasElement)return t;const e=t instanceof HTMLImageElement?t.naturalWidth:t.width,n=t instanceof HTMLImageElement?t.naturalHeight:t.height,i=document.createElement("canvas"),o=i.getContext("2d");return i.width=e,i.height=n,t instanceof HTMLImageElement?o.drawImage(t,0,0,t.width,t.height):t instanceof ImageData&&o.putImageData(t,0,0),i}(t).toBlob(e))}(t).then(t=>{const i=function(t,e){const n=(0,u.lk)(),i="".concat((0,c.join)("media",n),".").concat((0,v.n)({type:"blob",blob:t}));return e.resourceFromPath(i)}(t,r);e[n]=i.itemRelativeUrl,a.toAdd.push({resource:i,content:{type:"blob",blob:t},compress:!1,finish:t=>{this.image=t.url}})}))}};i=y.Of,(0,r._)([(0,h.MZ)()],w.prototype,"animationOptions",void 0),(0,r._)([(0,h.MZ)({readOnly:!0})],w.prototype,"content",void 0),(0,r._)([(0,h.MZ)({readOnly:!0})],w.prototype,"contentWidth",null),(0,r._)([(0,h.MZ)({readOnly:!0})],w.prototype,"contentHeight",null),(0,r._)([(0,h.MZ)(f.x3)],w.prototype,"image",void 0),(0,r._)([(0,m.w)("image",["url"])],w.prototype,"readImage",null),(0,r._)([(0,g.K)("image")],w.prototype,"writeImage",null),(0,r._)([(0,h.MZ)(f.m$)],w.prototype,"type",void 0),w=(0,r._)([(0,d.$)("esri.layers.support.ImageElement")],w);const b=w},33723:(t,e,n)=>{n.d(e,{O:()=>m,W:()=>h});var i=n(63919),o=n(44680),r=n(19555),s=n(20664);const a=(0,n(9392).vt)(),l=(0,o.vt)(),c=(0,o.vt)(),u=(0,o.vt)();function h(t,e,n){return(0,s.i)(a,e[0],e[1],1),(0,s.q)(a,a,(0,i.mg)(l,n)),0===a[2]?(0,r.hZ)(t,a[0],a[1]):(0,r.hZ)(t,a[0]/a[2],a[1]/a[2])}function m(t,e,n){return d(c,e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]),d(u,n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7]),(0,i.lw)(t,(0,i.KC)(c,c),u),0!==t[8]&&(t[0]/=t[8],t[1]/=t[8],t[2]/=t[8],t[3]/=t[8],t[4]/=t[8],t[5]/=t[8],t[6]/=t[8],t[7]/=t[8],t[8]/=t[8]),t}function d(t,e,n,o,r,c,u,h,m){(0,i.hZ)(t,e,o,c,n,r,u,1,1,1),(0,s.i)(a,h,m,1),(0,i.KC)(l,t);const[d,g,p]=(0,s.q)(a,a,(0,i.mg)(l,l));return(0,i.hZ)(l,d,0,0,0,g,0,0,0,p),(0,i.lw)(t,l,t)}}}]);
//# sourceMappingURL=27878.001dd70a.chunk.js.map