"use strict";(self.webpackChunks06_station=self.webpackChunks06_station||[]).push([[12245,27980,60664,78059,81446,87131],{12245:(e,t,i)=>{i.r(t),i.d(t,{default:()=>w});var s=i(35143),n=i(95085),o=i(78059),l=i(60664),r=i(19276),a=i(3975),u=i(68134),d=i(46053),c=(i(81806),i(76460),i(47249),i(85842)),h=i(9624),v=i(42294),p=i(12482);const y=r.default.ofType(l.default);let _=class extends n.A{constructor(e){super(e),this.type="line-of-sight",this.observer=null,this.extent=null}initialize(){this.addHandles((0,u.watch)(()=>this._computeExtent(),e=>{null==(null===e||void 0===e?void 0:e.pending)&&this._set("extent",null!=e?e.extent:null)},u.syncAndInitial))}get targets(){return this._get("targets")||new y}set targets(e){this._set("targets",(0,a.V)(e,this.targets,y))}get spatialReference(){var e;return null!=(null===(e=this.observer)||void 0===e?void 0:e.position)?this.observer.position.spatialReference:null}get requiredPropertiesForEditing(){var e;return[null===(e=this.observer)||void 0===e?void 0:e.position]}async waitComputeExtent(){const e=this._computeExtent();return null!=e?e.pending:Promise.resolve()}_computeExtent(){var e;const t=this.spatialReference;if(null==(null===(e=this.observer)||void 0===e?void 0:e.position)||null==t)return null;const i=e=>"absolute-height"===(0,p.w7)(e.position,e.elevationInfo),s=this.observer.position,n=(0,v.fA)(s.x,s.y,s.z,s.x,s.y,s.z);for(const l of this.targets)if(null!=l.position){const e=(0,h.projectOrLoad)(l.position,t);if(null!=e.pending)return{pending:e.pending,extent:null};if(null!=e.geometry){const{x:t,y:i,z:s}=e.geometry;(0,v.iT)(n,[t,i,s])}}const o=(0,v.w1)(n,t);return i(this.observer)&&this.targets.every(i)||(o.zmin=void 0,o.zmax=void 0),{pending:null,extent:o}}clear(){this.observer=null,this.targets.removeAll()}};(0,s._)([(0,d.MZ)({type:["line-of-sight"]})],_.prototype,"type",void 0),(0,s._)([(0,d.MZ)({type:o.default,json:{read:!0,write:!0}})],_.prototype,"observer",void 0),(0,s._)([(0,d.MZ)({cast:a.H,type:y,nonNullable:!0,json:{read:!0,write:!0}})],_.prototype,"targets",null),(0,s._)([(0,d.MZ)({value:null,readOnly:!0})],_.prototype,"extent",void 0),(0,s._)([(0,d.MZ)({readOnly:!0})],_.prototype,"spatialReference",null),(0,s._)([(0,d.MZ)({readOnly:!0})],_.prototype,"requiredPropertiesForEditing",null),_=(0,s._)([(0,c.$)("esri.analysis.LineOfSightAnalysis")],_);const w=_},27980:(e,t,i)=>{i.r(t),i.d(t,{default:()=>d});var s=i(35143),n=i(39356),o=i(91967),l=i(46053),r=(i(81806),i(76460),i(47249),i(85842)),a=i(19247);let u=class extends o.default{constructor(e){super(e),this.location=null,this.intersectedLocation=null,this.intersectedGraphic=null,this.visible=void 0}};(0,s._)([(0,l.MZ)({type:a.default})],u.prototype,"location",void 0),(0,s._)([(0,l.MZ)({type:a.default})],u.prototype,"intersectedLocation",void 0),(0,s._)([(0,l.MZ)({type:n.default})],u.prototype,"intersectedGraphic",void 0),(0,s._)([(0,l.MZ)({type:Boolean})],u.prototype,"visible",void 0),u=(0,s._)([(0,r.$)("esri.widgets.LineOfSight.LineOfSightTarget")],u);const d=u},29078:(e,t,i)=>{i.d(t,{D:()=>_});var s=i(53986),n=i(35143),o=i(91967),l=i(98773),r=(i(81806),i(76460)),a=i(30726),u=i(50346),d=i(68134),c=i(46053),h=(i(47249),i(85842));const v=["analysis"];var p,y;(y=p||(p={}))[y.PENDING=0]="PENDING",y[y.WAIT_FOR_VIEW_READY=1]="WAIT_FOR_VIEW_READY",y[y.RUNNING=2]="RUNNING";let _=class extends o.default{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(e),this.view=null,this.analysisView=null,this._reconnectViewTask=null,this._forceInteractiveHandle=null,this._parentChangeFromReconnect=!1,this._startUserOperation=null;const t=null===e||void 0===e?void 0:e.analysis;null!=t?this.analysis=t:(this._set("analysis",this.constructAnalysis()),this._set("isAnalysisOwner",!0)),null!=(null===e||void 0===e?void 0:e.visible)&&(this.visible=e.visible)}normalizeCtorArgs(e){const{analysis:t}=e;return(0,s.A)(e,v)}initialize(){this.addHandles([(0,d.watch)(()=>({readyAndNotSupported:null!=this.view&&this.view.ready&&!this.supported}),e=>{let{readyAndNotSupported:t}=e;t&&r.A.getLogger(this).errorOnce(this.unsupportedErrorMessage)},d.syncAndInitial),(0,d.watch)(()=>{var e;return null===(e=this.analysis)||void 0===e?void 0:e.parent},e=>{this._parentChangeFromReconnect||e===this.view||this._set("isAnalysisOwner",!1);const t=!this._parentChangeFromReconnect;this._parentChangeFromReconnect=!1,t&&this._scheduleViewReconnect()},d.sync),(0,d.watch)(()=>({view:this.view,ready:null!=this.view&&this.view.ready,supported:this.supported}),(e,t)=>{let{view:i}=e;const s=null===t||void 0===t?void 0:t.view;i!==s&&(this._startUserOperation=(0,a.DC)(this._startUserOperation),this._disconnectFromView(s)),this._scheduleViewReconnect()},d.syncAndInitial)])}destroy(){this._reconnectViewTask=(0,a.DC)(this._reconnectViewTask),this._startUserOperation=(0,a.DC)(this._startUserOperation),null!=this.analysisView&&(this.analysisView.visible=void 0),this._disconnectFromView(this.view),this._set("view",null),null!=this.analysis&&this.isAnalysisOwner&&(this.analysis.destroy(),this._set("analysis",null))}get supported(){return null==this.view||this.view.type===this.supportedViewType}set visible(e){this._set("visible",e),null!=this.analysisView&&(this.analysisView.visible=e)}get active(){return null!=this.tool&&this.tool.active}get disabled(){return null==this.view||!this.view.ready||!this.supported}set analysis(e){e!==this._get("analysis")&&(this._startUserOperation=(0,a.DC)(this._startUserOperation),this._disconnectFromView(this.view),this._setExternalAnalysis(e),this._scheduleViewReconnect())}get ready(){return null!=this.analysisView&&!this.connectingToView}get connectingToView(){return null!=this._reconnectViewTask}get isAnalysisOwner(){return this._get("isAnalysisOwner")}get tool(){return null!=this.analysisView?this.analysisView.tool:null}clear(){this._startUserOperation=(0,a.DC)(this._startUserOperation),this._resetInteractiveCreationState(),null!=this.tool&&null!=this.view&&this.view.activeTool===this.tool&&(this.view.activeTool=null)}async start(){if(!this.visible)return void r.A.getLogger(this).warn("Cannot start analysis when not visible");this.clear();const e={task:null,abort:null,state:p.PENDING},t=(0,l.UT)(async t=>{if(e.state=p.WAIT_FOR_VIEW_READY,await(0,d.whenOnce)(()=>this.ready,t),e.state=p.RUNNING,null==this.analysisView||null==this.view)return;const i=this.analysisView.tool;null!=i&&(this.view.activeTool=i,(0,d.when)(()=>i.created,()=>{i.active&&null!=this.view&&(this.view.activeTool=null)},{initial:!0,once:!0}))});return e.task=t,e.abort=()=>t.abort(),this._startUserOperation=e,t.promise}onConnectToAnalysisView(e){}onDisconnectFromAnalysisView(){}_scheduleViewReconnect(){this._reconnectViewTask=(0,a.DC)(this._reconnectViewTask);const e=(0,l.UT)(async t=>{try{await this._reconnectView(t)}catch(i){if((0,u.throwIfAborted)(t),!(0,u.isAbortError)(i))return void r.A.getLogger(this).warn("Failed to use analysis in view model",i);throw i}finally{e===this._reconnectViewTask&&(this._reconnectViewTask=null)}});this._reconnectViewTask=e}async _reconnectView(e){const{view:t}=this,i=null!=t&&t.ready&&this.supported,s=this.analysis;if(this._startUserOperation=w(this._startUserOperation),this._disconnectFromView(t),i&&null!=t&&null!=s){if(this.isAnalysisOwner){if(null!=s.parent)return void r.A.getLogger(this).errorOnce("expected owned analysis to have null parent when connecting to view");this._parentChangeFromReconnect=!0,t.analyses.add(s)}this.analysisView=await t.whenAnalysisView(s),(0,u.isAborted)(e)?this._startUserOperation=w(this._startUserOperation):(this.analysisView.visible=this.visible,this._forceInteractiveHandle=this.analysisView.forceInteractiveForViewModel(),this.addHandles(this._forceInteractiveHandle),this.onConnectToAnalysisView(this.analysisView))}}_disconnectFromView(e){null!=e&&this.isAnalysisOwner&&e.analyses.includes(this.analysis)&&(this._parentChangeFromReconnect=!0,this.analysis.clear(),e.analyses.remove(this.analysis)),this.onDisconnectFromAnalysisView(),this._forceInteractiveHandle=(0,a.xt)(this._forceInteractiveHandle),this.analysisView=null}_setExternalAnalysis(e){null==this.analysisView||this.isAnalysisOwner||(this.analysisView.visible=void 0,this._forceInteractiveHandle=(0,a.xt)(this._forceInteractiveHandle)),this.analysisView=null,this._set("isAnalysisOwner",!1),this._set("analysis",e),this._parentChangeFromReconnect=!1}_resetInteractiveCreationState(){this.analysis.clear(),null!=this.tool&&this.tool.resetCreated()}get testInfo(){}};function w(e){return null!=e&&e.state>=p.RUNNING?(e.abort(),null):e}(0,n._)([(0,c.MZ)()],_.prototype,"supported",null),(0,n._)([(0,c.MZ)()],_.prototype,"view",void 0),(0,n._)([(0,c.MZ)({type:Boolean,value:!0})],_.prototype,"visible",null),(0,n._)([(0,c.MZ)()],_.prototype,"active",null),(0,n._)([(0,c.MZ)()],_.prototype,"disabled",null),(0,n._)([(0,c.MZ)({nonNullable:!0})],_.prototype,"analysis",null),(0,n._)([(0,c.MZ)()],_.prototype,"analysisView",void 0),(0,n._)([(0,c.MZ)()],_.prototype,"ready",null),(0,n._)([(0,c.MZ)()],_.prototype,"connectingToView",null),(0,n._)([(0,c.MZ)({readOnly:!0})],_.prototype,"isAnalysisOwner",null),(0,n._)([(0,c.MZ)()],_.prototype,"_reconnectViewTask",void 0),(0,n._)([(0,c.MZ)()],_.prototype,"_forceInteractiveHandle",void 0),(0,n._)([(0,c.MZ)()],_.prototype,"tool",null),_=(0,n._)([(0,h.$)("esri.widgets.support.AnalysisViewModel")],_)},42251:(e,t,i)=>{i.d(t,{N1:()=>d,uY:()=>c,wY:()=>u,xH:()=>a});var s=i(20664),n=i(9392),o=i(95925),l=i(3112),r=i(30310);function a(e,t){return u(e)===u(t)}function u(e){if(null==e)return null;const t=null!=e.layer?e.layer.id:"";let i=null;return i=null!=e.objectId?e.objectId:null!=e.layer&&"objectIdField"in e.layer&&null!=e.layer.objectIdField&&null!=e.attributes?e.attributes[e.layer.objectIdField]:e.uid,null==i?null:"o-".concat(t,"-").concat(i)}const d={json:{write:{writer:function(e,t){var i;null!=(null===e||void 0===e||null===(i=e.layer)||void 0===i?void 0:i.objectIdField)&&null!=e.attributes&&(t.feature={layerId:e.layer.id,objectId:e.attributes[e.layer.objectIdField]})},target:{"feature.layerId":{type:[Number,String],isRequired:!0},"feature.objectId":{type:[Number,String],isRequired:!0}}},origins:{"web-scene":{read:function(e){if(null!=e.layerId&&null!=e.objectId)return{uid:null,layer:{id:e.layerId,objectIdField:"ObjectId"},attributes:{ObjectId:e.objectId}}}}}}};function c(e,t,i,a){var d,c;const{sceneIntersectionHelper:v}=e,{observer:_,observerFeatureId:w,targetFeatureId:g,target:f}=i;if(null==w&&null==g)return;a||(a=e=>e),(0,s.a)(y,_,f);const b=(0,s.l)(y);(0,s.b)(y,_,y,1/b);const A=(0,o.Cr)(y,f,p);t.options.store=l.oH.ALL,v.intersectToolIntersectorRay(A,t);let M=null,T=null,m=null,I=null;for(const s of t.results.all){const t=(0,r.Gy)(s,e);if(null==t||null==s.distanceInRenderSpace)continue;const i=u(t);null!=i&&(null!=w&&i===w&&(null!==M&&void 0!==M||(M=a(h(s,e,b))),s.distanceInRenderSpace-1<M&&(m=s)),null!=g&&i===g&&(null!==T&&void 0!==T||(T=a(h(s,e,b))),null==I&&s.distanceInRenderSpace-1<b&&b-s.distanceInRenderSpace+1<T&&(I=s)))}const{observerAdjusted:V,targetAdjusted:C}=i;null!==(d=m)&&void 0!==d&&d.getIntersectionPoint(V)?i.observerSurfaceNormal=m.getTransformedNormal((0,n.vt)()):i.observerSurfaceNormal=null,null!==(c=I)&&void 0!==c&&c.getIntersectionPoint(C)?i.targetSurfaceNormal=I.getTransformedNormal((0,n.vt)()):i.targetSurfaceNormal=null}function h(e,t,i){if((0,r.QS)(e)){const s=(0,r.SM)(e,t);if(null!=s)return Math.min(s*v,i)}return 1e-5*i}const v=.05,p=(0,o.vt)(),y=(0,n.vt)()},60664:(e,t,i)=>{i.r(t),i.d(t,{default:()=>p});var s=i(35143),n=i(42251),o=i(69098),l=i(42553),r=i(30726),a=i(46053),u=(i(81806),i(76460),i(47249),i(85842)),d=i(37546),c=i(19247),h=i(731);let v=class extends(l.A.JSONSupportMixin(o.A)){constructor(e){super(e),this.position=null,this.elevationInfo=null,this.feature=null}equals(e){return(0,r.CM)(this.position,e.position)&&(0,r.CM)(this.elevationInfo,e.elevationInfo)&&(0,n.xH)(this.feature,e.feature)}};(0,s._)([(0,a.MZ)({type:c.default,json:{write:!0,origins:{"web-scene":{write:{isRequired:!0}}}}}),(0,d.P)()],v.prototype,"position",void 0),(0,s._)([(0,a.MZ)({type:h.A}),(0,d.P)()],v.prototype,"elevationInfo",void 0),(0,s._)([(0,a.MZ)(n.N1)],v.prototype,"feature",void 0),v=(0,s._)([(0,u.$)("esri.analysis.LineOfSightAnalysisTarget")],v);const p=v},78059:(e,t,i)=>{i.r(t),i.d(t,{default:()=>y});var s=i(35143),n=i(42251),o=i(91967),l=i(69098),r=i(42553),a=i(30726),u=i(46053),d=(i(81806),i(76460),i(47249),i(85842)),c=i(37546),h=i(19247),v=i(731);let p=class extends(r.A.JSONSupportMixin(l.A.ClonableMixin(o.default))){constructor(e){super(e),this.position=null,this.elevationInfo=null,this.feature=null}equals(e){return(0,a.CM)(this.position,e.position)&&(0,a.CM)(this.elevationInfo,e.elevationInfo)&&(0,n.xH)(this.feature,e.feature)}};(0,s._)([(0,u.MZ)({type:h.default,json:{write:{isRequired:!0}}})],p.prototype,"position",void 0),(0,s._)([(0,u.MZ)({type:v.A}),(0,c.P)()],p.prototype,"elevationInfo",void 0),(0,s._)([(0,u.MZ)(n.N1)],p.prototype,"feature",void 0),p=(0,s._)([(0,d.$)("esri.analysis.LineOfSightAnalysisObserver")],p);const y=p},81446:(e,t,i)=>{i.r(t),i.d(t,{default:()=>w});var s=i(35143),n=(i(81806),i(50346)),o=i(46053),l=(i(76460),i(47249),i(85842)),r=i(25329),a=i(87131),u=i(94126),d=i(98108),c=(i(76099),i(63582)),h=i(54761);const v="esri-line-of-sight",p={base:v,actions:"".concat(v,"__actions"),container:"".concat(v,"__container"),error:"".concat(v,"__error"),hint:"".concat(v,"__hint"),hintText:"".concat(v,"__hint-text"),newAnalysisButton:"".concat(v,"__new-analysis-button")},y={newAnalysisButton:"".concat(v,"__new-button"),continueButton:"".concat(v,"__continue-button"),doneButton:"".concat(v,"__done-button")};let _=class extends r.default{constructor(e,t){super(e,t),this.messages=null,this.viewModel=new a.default,this._onNewAnalysis=()=>{(0,n.ignoreAbortErrors)(this.viewModel.start())},this._onDone=()=>{this.viewModel.stop()},this._onContinue=()=>{this.viewModel.continue()}}loadDependencies(){return(0,u.W)({button:()=>Promise.resolve().then(i.bind(i,43285))})}get active(){return this.viewModel.active}get analysis(){return this.viewModel.analysis}set analysis(e){this.viewModel.analysis=e}get icon(){return"line-of-sight"}set icon(e){this._overrideIfSome("icon",e)}get label(){var e,t;return null!==(e=null===(t=this.messages)||void 0===t?void 0:t.widgetLabel)&&void 0!==e?e:""}set label(e){this._overrideIfSome("label",e)}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}get visible(){return this.viewModel.visible}set visible(e){this.viewModel.visible=e}render(){return(0,h.K)("div",{class:this.classes(p.base,d.D.widget,d.D.panel),role:"presentation"},this._renderContainerNode())}_renderContainerNode(){if(!this.visible)return null;if(!this.viewModel.supported)return this._renderUnsupportedMessage();let e=null;const t=[this._renderNewAnalysisButton()];return"creating"===this.viewModel.state?(e=this._renderHint(),t.unshift(this._renderDoneButton())):"created"===this.viewModel.state&&this.viewModel.targets.length>0&&t.unshift(this._renderContinueButton()),(0,h.K)("div",{class:p.container},e,(0,h.K)("div",{class:p.actions},t))}_renderUnsupportedMessage(){return(0,h.K)("div",{class:p.error,key:"esri-line-of-sight__unsupported"},(0,h.K)("p",null,this.messages.unsupported))}_renderHint(){return(0,h.K)("div",{class:p.hint,key:"esri-line-of-sight__hint"},(0,h.K)("p",{class:p.hintText},this.messages.hint))}_renderNewAnalysisButton(){return this._renderButton({className:p.newAnalysisButton,id:y.newAnalysisButton,label:this.messages.newAnalysis,onClick:this._onNewAnalysis,primary:!0})}_renderDoneButton(){return this._renderButton({id:y.doneButton,label:this.messages.done,onClick:this._onDone,primary:!1})}_renderContinueButton(){return this._renderButton({id:y.newAnalysisButton,label:this.messages.continueAnalysis,onClick:this._onContinue,primary:!1})}_renderButton(e){let{className:t,id:i,label:s,onClick:n,primary:o}=e;const l="disabled"===this.viewModel.state;return(0,h.K)("calcite-button",{appearance:o?"solid":"outline-fill",class:t,"data-id":i,disabled:l,key:i,onclick:n},s)}get test(){}};(0,s._)([(0,o.MZ)()],_.prototype,"active",null),(0,s._)([(0,o.MZ)({constructOnly:!0,nonNullable:!0})],_.prototype,"analysis",null),(0,s._)([(0,o.MZ)()],_.prototype,"icon",null),(0,s._)([(0,o.MZ)()],_.prototype,"label",null),(0,s._)([(0,o.MZ)(),(0,c.G)("esri/widgets/LineOfSight/t9n/LineOfSight")],_.prototype,"messages",void 0),(0,s._)([(0,o.MZ)()],_.prototype,"view",null),(0,s._)([(0,o.MZ)({type:a.default})],_.prototype,"viewModel",void 0),(0,s._)([(0,o.MZ)()],_.prototype,"visible",null),_=(0,s._)([(0,l.$)("esri.widgets.LineOfSight")],_);const w=_},87131:(e,t,i)=>{i.r(t),i.d(t,{default:()=>f});var s=i(35143),n=i(12245),o=i(78059),l=i(60664),r=i(19276),a=i(3975),u=i(54901),d=(i(81806),i(68134)),c=i(46053),h=(i(76460),i(47249),i(85842)),v=i(19247),p=i(12482),y=i(27980),_=i(29078);const w=r.default.ofType(y.default);let g=class extends _.D{constructor(e){super(e),this.analysis=null,this.supportedViewType="3d",this.unsupportedErrorMessage="LineOfSightViewModel is only supported in 3D views.",this._vmTargetsToConnection=new Map,this._analysisTargetsToConnection=new Map}initialize(){this.addHandles([this.targets.on("after-add",e=>this._onViewModelTargetAdded(e.item)),this.targets.on("after-remove",e=>this._onViewModelTargetRemoved(e.item)),(0,d.watch)(()=>this.analysis,e=>this._onAnalysisChange(e),d.syncAndInitial)])}destroy(){this._analysisTargetsToConnection.forEach(e=>e.remove())}get state(){return this.disabled||!this.ready?"disabled":null==this.tool?"ready":this.tool.state}get observer(){const{observer:e}=this.analysis;return null==(null===e||void 0===e?void 0:e.position)?null:this._convertAnalysisPointToAbsoluteHeight(e.position,e.elevationInfo)}set observer(e){let t=null;e&&(t=e.clone(),t.hasZ||(t.z=0)),this.analysis.observer=new o.default({position:t})}get targets(){return this._get("targets")||new w}set targets(e){this._set("targets",(0,a.V)(e,this.targets,w))}continue(){null!=this.tool&&this.tool.continue()}stop(){null!=this.tool&&this.tool.stop()}get testInfo(){}constructAnalysis(){return new n.default}async onConnectToAnalysisView(e){this.addHandles([e.on("result-changed",e=>{const t=this._analysisTargetsToConnection.get(e.target);t&&(null!=e.result?(t.viewModelTarget.intersectedGraphic=e.result.intersectedGraphic,t.viewModelTarget.intersectedLocation=e.result.intersectedLocation,t.viewModelTarget.visible=e.result.visible):(t.viewModelTarget.intersectedGraphic=null,t.viewModelTarget.intersectedLocation=null,t.viewModelTarget.visible=void 0))})],"view")}onDisconnectFromAnalysisView(){this.removeHandles("view")}_onViewModelTargetAdded(e){if(this._vmTargetsToConnection.get(e))return;const t=new l.default({position:e.location});this._connectViewModelWithAnalysisTarget(e,t),this.analysis.targets.add(t)}_onViewModelTargetRemoved(e){const t=this._vmTargetsToConnection.get(e);t&&(t.remove(),this.analysis.targets.remove(t.analysisTarget))}_onAnalysisTargetAdded(e){if(this._analysisTargetsToConnection.get(e))return;const{position:t}=e,i=new y.default({location:t?this._convertAnalysisPointToAbsoluteHeight(t,e.elevationInfo):null});this._connectViewModelWithAnalysisTarget(i,e),this.targets.add(i)}_onAnalysisTargetRemoved(e){const t=this._analysisTargetsToConnection.get(e);t&&(t.remove(),this.targets.remove(t.viewModelTarget))}_connectViewModelWithAnalysisTarget(e,t){let i=!1;const s=(0,u.vE)([(0,d.watch)(()=>({position:t.position,elevationInfo:t.elevationInfo}),t=>{let{position:s,elevationInfo:n}=t;i||(i=!0,e.location=s?this._convertAnalysisPointToAbsoluteHeight(s,n):null,i=!1)},d.sync),(0,d.watch)(()=>e.location,e=>{if(!i){i=!0;let s=null;e&&(s=e.clone(),s.hasZ||(s.z=0)),t.position=s,t.elevationInfo=null,i=!1}},d.sync)]),n={analysisTarget:t,viewModelTarget:e,remove:()=>{s.remove(),this._vmTargetsToConnection.delete(e),this._analysisTargetsToConnection.delete(t)}};this._vmTargetsToConnection.set(e,n),this._analysisTargetsToConnection.set(t,n)}_onAnalysisChange(e){const t="analysis";this.removeHandles(t),this.addHandles([this.analysis.targets.on("after-add",e=>this._onAnalysisTargetAdded(e.item)),this.analysis.targets.on("after-remove",e=>this._onAnalysisTargetRemoved(e.item))],t),this.targets.removeAll(),e.targets.forEach(e=>{this._onAnalysisTargetAdded(e)})}_convertAnalysisPointToAbsoluteHeight(e,t){const i=e.clone();if(null!=this.view){const s=(0,p.bK)(e.hasZ,t);i.z=(0,p.wS)(this.view,e,s,p.qt)}return i}};(0,s._)([(0,c.MZ)({type:n.default})],g.prototype,"analysis",void 0),(0,s._)([(0,c.MZ)({readOnly:!0})],g.prototype,"state",null),(0,s._)([(0,c.MZ)({type:v.default})],g.prototype,"observer",null),(0,s._)([(0,c.MZ)({type:w,cast:a.H,nonNullable:!0})],g.prototype,"targets",null),g=(0,s._)([(0,h.$)("esri.widgets.LineOfSight.LineOfSightViewModel")],g);const f=g}}]);
//# sourceMappingURL=81446.5036f450.chunk.js.map