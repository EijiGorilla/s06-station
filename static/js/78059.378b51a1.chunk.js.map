{"version":3,"file":"static/js/78059.378b51a1.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/analysis/featureReferenceUtils.js","../node_modules/@arcgis/core/analysis/LineOfSightAnalysisObserver.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{a as e,l as t,b as r}from\"../chunks/vec32.js\";import{create as n}from\"../core/libs/gl-matrix-2/factories/vec3f64.js\";import{create as l,fromPoints as o}from\"../geometry/support/ray.js\";import{StoreResults as i}from\"../views/3d/webgl-engine/lib/IntersectorInterfaces.js\";import{toGraphic as u,hasLod as s,getIntersectedFeatureBSRadius as a}from\"../views/3d/webgl-engine/lib/intersectorUtilsConversions.js\";function c(e,t){return d(e)===d(t)}function d(e){if(null==e)return null;const t=null!=e.layer?e.layer.id:\"\";let r=null;return r=null!=e.objectId?e.objectId:null!=e.layer&&\"objectIdField\"in e.layer&&null!=e.layer.objectIdField&&null!=e.attributes?e.attributes[e.layer.objectIdField]:e.uid,null==r?null:`o-${t}-${r}`}const b={json:{write:{writer:f,target:{\"feature.layerId\":{type:[Number,String],isRequired:!0},\"feature.objectId\":{type:[Number,String],isRequired:!0}}},origins:{\"web-scene\":{read:I}}}};function f(e,t){null!=e?.layer?.objectIdField&&null!=e.attributes&&(t.feature={layerId:e.layer.id,objectId:e.attributes[e.layer.objectIdField]})}function I(e){if(null!=e.layerId&&null!=e.objectId)return{uid:null,layer:{id:e.layerId,objectIdField:\"ObjectId\"},attributes:{ObjectId:e.objectId}}}function m(l,s,a,c){const{sceneIntersectionHelper:b}=l,{observer:f,observerFeatureId:I,targetFeatureId:m,target:g}=a;if(null==I&&null==m)return;c||(c=e=>e),e(p,f,g);const v=t(p),S=1;r(p,f,p,S/v);const F=o(p,g,y);s.options.store=i.ALL,b.intersectToolIntersectorRay(F,s);let N=null,w=null,R=null,A=null;for(const e of s.results.all){const t=u(e,l);if(null==t||null==e.distanceInRenderSpace)continue;const r=d(t);null!=r&&(null!=I&&r===I&&(N??=c(j(e,l,v)),e.distanceInRenderSpace-S<N&&(R=e)),null!=m&&r===m&&(w??=c(j(e,l,v)),null==A&&e.distanceInRenderSpace-S<v&&v-e.distanceInRenderSpace+S<w&&(A=e)))}const{observerAdjusted:T,targetAdjusted:h}=a;R?.getIntersectionPoint(T)?a.observerSurfaceNormal=R.getTransformedNormal(n()):a.observerSurfaceNormal=null,A?.getIntersectionPoint(h)?a.targetSurfaceNormal=A.getTransformedNormal(n()):a.targetSurfaceNormal=null}function j(e,t,r){if(s(e)){const n=a(e,t);if(null!=n)return Math.min(n*g,r)}return 1e-5*r}const g=.05,y=l(),p=n();export{c as featureReferenceEquals,b as featureReferenceProperty,d as getFeatureId,m as updatePointsFromFeatureReference};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../chunks/tslib.es6.js\";import{featureReferenceEquals as r,featureReferenceProperty as e}from\"./featureReferenceUtils.js\";import t from\"../core/Accessor.js\";import s from\"../core/Clonable.js\";import i from\"../core/JSONSupport.js\";import{equalsMaybe as p}from\"../core/maybe.js\";import{property as n}from\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import\"../core/Logger.js\";import\"../core/RandomLCG.js\";import{subclass as a}from\"../core/accessorSupport/decorators/subclass.js\";import{persistable as m}from\"../core/accessorSupport/decorators/persistable.js\";import c from\"../geometry/Point.js\";import l from\"../symbols/support/ElevationInfo.js\";let f=class extends(i.JSONSupportMixin(s.ClonableMixin(t))){constructor(o){super(o),this.position=null,this.elevationInfo=null,this.feature=null}equals(o){return p(this.position,o.position)&&p(this.elevationInfo,o.elevationInfo)&&r(this.feature,o.feature)}};o([n({type:c,json:{write:{isRequired:!0}}})],f.prototype,\"position\",void 0),o([n({type:l}),m()],f.prototype,\"elevationInfo\",void 0),o([n(e)],f.prototype,\"feature\",void 0),f=o([a(\"esri.analysis.LineOfSightAnalysisObserver\")],f);const u=f;export{u as default};\n"],"names":["c","e","t","d","layer","id","r","objectId","objectIdField","attributes","uid","concat","b","json","write","writer","_e$layer","feature","layerId","target","type","Number","String","isRequired","origins","read","ObjectId","m","l","s","a","_R","_A","sceneIntersectionHelper","observer","f","observerFeatureId","I","targetFeatureId","g","p","v","F","o","y","options","store","i","ALL","intersectToolIntersectorRay","N","w","R","A","results","all","u","distanceInRenderSpace","j","observerAdjusted","T","targetAdjusted","h","getIntersectionPoint","observerSurfaceNormal","getTransformedNormal","n","targetSurfaceNormal","Math","min","JSONSupportMixin","ClonableMixin","constructor","super","this","position","elevationInfo","equals","prototype"],"sourceRoot":""}