"use strict";(self.webpackChunks06_station=self.webpackChunks06_station||[]).push([[90692],{90494:(i,e,a)=>{a.d(e,{p:()=>r,z:()=>t});var s=a(50076);const t="aggregateCount";function r(i,e){if(!i.view)throw new s.default("".concat(e,":missing-parameters"),"'view' parameter is required for binning");if(i.sqlExpression)throw new s.default("".concat(e,":invalid-parameters"),"'sqlExpression' parameter is not supported for binning");if("3d"===i.view.type)throw new s.default("".concat(e,":invalid-parameters"),"3d view is not supported for binning")}},90692:(i,e,a)=>{a.r(e),a.d(e,{default:()=>m});var s=a(89379),t=a(53986),r=a(50076),n=a(53430),o=a(28383),l=a(90494),d=a(42633),f=a(11563);const p=["layer"],u=["layerAdapter"],h=[...d.i3,"time-only",...n.numericTypes];async function m(i){const e=await async function(i){if(null===i||void 0===i||!i.layer||!(i.field||i.valueExpression||i.sqlExpression))throw new r.default("histogram:missing-parameters","'layer' and 'field', 'valueExpression' or 'sqlExpression' parameters are required");if(i.valueExpression&&!i.sqlExpression&&!i.view)throw new r.default("histogram:missing-parameters","View is required when 'valueExpression' is specified");i.forBinning&&(0,l.p)(i,"histogram");const{layer:e}=i,a=(0,t.A)(i,p),u=i.forBinning?f.Mi:f.G3,m=(0,f.Jg)(e,u,i.forBinning);if(!m)throw new r.default("histogram:invalid-parameters","'layer' must be one of these types: "+(0,f.Ho)(u).join(", "));const w=(0,s.A)({layerAdapter:m},a);w.normalizationType=(0,d.Wy)(w);const c=null!=w.signal?{signal:w.signal}:null;await m.load(c);const v=w.valueExpression||w.sqlExpression,g=w.field,y=g?m.getField(g):null,E=!w.classificationMethod||"equal-interval"===w.classificationMethod,x=await(0,d.EG)({field:g,normalizationField:w.normalizationField,valueExpression:w.valueExpression}),q=(0,o.MH)(m,x,"histogram:invalid-parameters");if(q)throw q;if(y){const i=(0,o.a)(m,y,"histogram:invalid-parameters",h);if(i)throw i;if((0,d.fs)(y)||(0,n.isTimeOnlyField)(y)){if(w.normalizationType)throw new r.default("histogram:invalid-parameters","Normalization is not allowed for date fields");if(!E)throw new r.default("histogram:invalid-parameters","'classificationMethod' other than 'equal-interval' is not allowed for date fields")}}else if(v){if(w.normalizationType)throw new r.default("histogram:invalid-parameters","Normalization is not allowed when 'valueExpression' or 'sqlExpression' is specified");if(!E)throw new r.default("histogram:invalid-parameters","'classificationMethod' other than 'equal-interval' is not allowed when 'valueExpression' or 'sqlExpression' is specified")}w.filter&&!w.filter.spatialRelationship&&(w.filter.spatialRelationship="intersects");const b=(0,o.Wk)(w.filter,"histogram:invalid-parameters");if(b)throw b;return null==w.useQueryAttributeBins&&(w.useQueryAttributeBins=!0),w}(i),{layerAdapter:a}=e,m=(0,t.A)(e,u);return a.histogram(m)}}}]);
//# sourceMappingURL=90692.d8e7c93f.chunk.js.map